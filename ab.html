<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zahlung Erfolgreich</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #111;
            color: #fff;
            text-align: center;
            margin: 20px;
        }
        .container {
            background: #222;
            padding: 20px;
            border-radius: 10px;
            max-width: 400px;
            margin: auto;
        }
        button {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            border: none;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            background: #25D366;
            color: white;
        }
        img {
            margin-top: 10px;
            width: 150px;
            height: 150px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>‚úÖ Deine Zahlung wurde erfolgreich verarbeitet!</h2>
        <h3>Du kannst den Browser jetzt schlie√üen.</h3><br>
	<p>Falls du Unterst√ºtzung ben√∂tigst oder es ein Problem mit dem Zahlungsnachweis gibt, kontaktiere uns hier:</p>
        
        <a id="whatsappButton" href="#" target="_blank" 
    	style="display: block; padding:10px; background:#25D366; color:#fff; border-radius:5px; text-align: center; text-decoration: none;">
    	üì≤ WhatsApp Support</a><br>

        <img id="qrCode" src="" alt="WhatsApp QR Code">
    </div>

    	<script>
        // üõ†Ô∏è Wallet-Adresse entweder aus URL oder localStorage abrufen
	function getQueryParam(param) {
   	 const urlParams = new URLSearchParams(window.location.search);
    	return urlParams.get(param);
	}

	const walletAddress = getQueryParam("wallet") || localStorage.getItem("walletAddress") || "NICHT_VERF√úGBAR";

	// WhatsApp-Link generieren
	const whatsappNumber = "4915129147194";
	const message = `Hallo, meine Zahlung wurde gesendet, aber ich habe Probleme mit dem Zahlungsnachweis. Meine Wallet-Adresse: ${walletAddress}`;
	const whatsappLink = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;

	// Button- und QR-Code aktualisieren
	document.getElementById("whatsappButton").href = whatsappLink;
	document.getElementById("qrCode").src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(whatsappLink)}`;


    </script>
</body>
</html>
